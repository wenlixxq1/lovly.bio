// Internationalization for Unified Lovly Space Portfolio
window.i18n = {
    ru: {
        // Navigation
        'nav.about': 'ÐžÐ±Ð¾ Ð¼Ð½Ðµ',
        'nav.skills': 'ÐÐ°Ð²Ñ‹ÐºÐ¸',
        'nav.projects': 'ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹',
        'nav.github': 'GitHub',
        'nav.donate': 'ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°',
        'nav.contact': 'ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹',
        
        // Header
        'header.title': 'ÐÑ€Ñ‚ÐµÐ¼ Lovly',
        'header.subtitle': 'Full-Stack Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº & ÐšÐ¾ÑÐ¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ',
        'header.typing': 'Ð¡Ð¾Ð·Ð´Ð°ÑŽ ÑÐ¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð² Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾Ð¼ ÐºÐ¾ÑÐ¼Ð¾ÑÐµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÐµÐ¹',
        
        // Status
        'status.available': 'Ð”Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð´Ð»Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²',
        
        // Buttons
        'buttons.projects': 'ÐœÐ¾Ð¸ ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹',
        'buttons.contact': 'Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ',
        
        // About Section
        'about.title': 'Ðž ÑÐµÐ±Ðµ',
        'about.intro': 'ÐŸÑ€Ð¸Ð²ÐµÑ‚! ÐœÐµÐ½Ñ Ð·Ð¾Ð²ÑƒÑ‚ ÐÑ€Ñ‚Ñ‘Ð¼ Ð›Ð¾Ð²Ð»Ð¸, Ð¼Ð¾Ðµ Ð¿Ñ€Ð¾Ð·Ð²Ð¸Ñ‰Ðµ Ð›Ð¾Ð²Ð»Ð¸, Ð¸ Ð¼Ð½Ðµ 17 Ð»ÐµÑ‚.',
        'about.description': 'Ð’ ÐºÐ¾Ð½Ñ†Ðµ ÐºÐ¾Ð½Ñ†Ð¾Ð², Ñ Ð´ÐµÐ»Ð°ÑŽ Ñ€Ð°Ð·Ð½Ñ‹Ðµ Ð²ÐµÑ‰Ð¸, Ð½Ð¾ Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¼ ÑÑ‚Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð»Ð¸ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð¾ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ð¸.',
        'about.conclusion': 'Ð§ÐµÑÑ‚Ð½Ð¾ Ð³Ð¾Ð²Ð¾Ñ€Ñ, Ð¼Ð½Ðµ Ð½ÐµÑ‡ÐµÐ³Ð¾ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¾ ÑÐµÐ±Ðµ, Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾... Ð”Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð»ÑƒÑ‡ÑˆÐµ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ð¼ Ð½Ð° Ð¼Ð¾Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹!',
        'about.voice': 'ðŸŽ¤ ÐŸÐ¾ÑÐ»ÑƒÑˆÐ°Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ',
        'about.factBtn': 'Ð£Ð·Ð½Ð°Ñ‚ÑŒ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¹ Ñ„Ð°ÐºÑ‚ Ð¾Ð±Ð¾ Ð¼Ð½Ðµ',
        
        // Skills Section
        'skills.title': 'ÐÐ°Ð²Ñ‹ÐºÐ¸',
        
        // Projects Section
        'projects.title': 'ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹',
        
        // GitHub Section
        'github.title': 'GitHub Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°',
        'github.loading': 'Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...',
        'github.repositories': 'Ð ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸',
        'github.followers': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÑ‡Ð¸ÐºÐ¸',
        'github.following': 'ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ¸',
        'github.recentRepos': 'ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¸',
        'github.languages': 'Ð¯Ð·Ñ‹ÐºÐ¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ',
        
        // Donation Section
        'donate.title': 'ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°',
        'donate.intro': 'Ð¯ Ð½Ðµ Ð±ÑƒÐ´Ñƒ Ð¾ÑÑƒÐ¶Ð´Ð°Ñ‚ÑŒ Ñ‚ÐµÐ±Ñ, ÐµÑÐ»Ð¸ Ñ‚Ñ‹ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð» ÑÑ‚Ð¾Ñ‚ Ñ€Ð°Ð·Ð´ÐµÐ»',
        'donate.description': 'Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¿Ð¾ ÐºÐ°ÐºÐ¾Ð¹-Ñ‚Ð¾ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ðµ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¼ÐµÐ½Ñ, Ñ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽ Ð²ÑÐµ, Ñ‡Ñ‚Ð¾ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾ Ð½Ð¸Ð¶Ðµ. Ð—Ð°Ñ€Ð°Ð½ÐµÐµ Ð¾Ð³Ñ€Ð¾Ð¼Ð½Ð¾Ðµ ÑÐ¿Ð°ÑÐ¸Ð±Ð¾!',
        
        // Contact Section
        'contact.title': 'ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹'
    },
    
    en: {
        // Navigation
        'nav.about': 'About',
        'nav.skills': 'Skills',
        'nav.projects': 'Projects',
        'nav.github': 'GitHub',
        'nav.donate': 'Support',
        'nav.contact': 'Contact',
        
        // Header
        'header.title': 'Artem Lovly',
        'header.subtitle': 'Full-Stack Developer & Space Explorer',
        'header.typing': 'Creating modern web applications in the infinite cosmos of possibilities',
        
        // Status
        'status.available': 'Available for projects',
        
        // Buttons
        'buttons.projects': 'My Projects',
        'buttons.contact': 'Get in Touch',
        
        // About Section
        'about.title': 'About Me',
        'about.intro': 'Hi! My name is Artem Lovly, my nickname is Lovly, and I am 17 years old.',
        'about.description': 'In the end, I do different things, but mostly it\'s programming or something about programming.',
        'about.conclusion': 'Honestly, I have nothing to say about myself, so... Let\'s better look at my projects!',
        'about.voice': 'ðŸŽ¤ Listen to greeting',
        'about.factBtn': 'Learn a random fact about me',
        
        // Skills Section
        'skills.title': 'Skills',
        
        // Projects Section
        'projects.title': 'Projects',
        
        // GitHub Section
        'github.title': 'GitHub Statistics',
        'github.loading': 'Loading...',
        'github.repositories': 'Repositories',
        'github.followers': 'Followers',
        'github.following': 'Following',
        'github.recentRepos': 'Recent Repositories',
        'github.languages': 'Programming Languages',
        
        // Donation Section
        'donate.title': 'Support',
        'donate.intro': 'I won\'t judge you if you completely skip this section',
        'donate.description': 'If for some reason you want to support me, I accept everything listed below. Thank you so much in advance!',
        
        // Contact Section
        'contact.title': 'Contact'
    }
};

// Language switching functionality
class I18n {
    constructor() {
        this.currentLang = 'ru';
        this.translations = window.i18n;
    }
    
    setLanguage(lang) {
        if (!this.translations[lang]) {
            console.warn(`Language ${lang} not supported`);
            return;
        }
        
        this.currentLang = lang;
        this.updatePage();
        localStorage.setItem('preferred-language', lang);
    }
    
    updatePage() {
        const elements = document.querySelectorAll('[data-i18n]');
        
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.getTranslation(key);
            
            if (translation) {
                element.textContent = translation;
            }
        });
        
        // Update elements with language-specific attributes
        const langElements = document.querySelectorAll(`[data-${this.currentLang}]`);
        langElements.forEach(element => {
            const text = element.getAttribute(`data-${this.currentLang}`);
            if (text) {
                element.textContent = text;
            }
        });
        
        // Update document language
        document.documentElement.lang = this.currentLang;
    }
    
    getTranslation(key) {
        const keys = key.split('.');
        let translation = this.translations[this.currentLang];
        
        for (const k of keys) {
            if (translation && translation[k]) {
                translation = translation[k];
            } else {
                return null;
            }
        }
        
        return translation;
    }
    
    getCurrentLanguage() {
        return this.currentLang;
    }
    
    // Initialize from localStorage
    init() {
        const savedLang = localStorage.getItem('preferred-language');
        if (savedLang && this.translations[savedLang]) {
            this.setLanguage(savedLang);
            
            // Update language buttons
            const langButtons = document.querySelectorAll('.lang-btn');
            langButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === savedLang) {
                    btn.classList.add('active');
                }
            });
        }
    }
}

// Initialize i18n system
window.i18nSystem = new I18n();

// Auto-initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    window.i18nSystem.init();
});

// Export for global access
window.I18n = I18n;